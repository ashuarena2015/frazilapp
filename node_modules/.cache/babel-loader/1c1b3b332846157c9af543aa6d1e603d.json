{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/frazil-app/src/Profile/Profile.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom'; // import history from '../history';\n\nimport Camera from 'react-html5-camera-photo';\nexport default class Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      imagePreviewUrl: '',\n      uploadImgMsg: false,\n      currentUploadedImg: ''\n    };\n    this.cancelImgUpload = this.cancelImgUpload.bind(this);\n  }\n\n  componentDidMount() {\n    const _this$props$loginInfo = this.props.loginInfo,\n          loginEmail = _this$props$loginInfo.loginEmail,\n          loginId = _this$props$loginInfo.loginId;\n    const profileData = {\n      loginEmail,\n      loginId\n    };\n    this.props.getProfileInfo(profileData);\n  }\n\n  _handleImageChange(e) {\n    e.preventDefault();\n    let reader = new FileReader();\n    let file = e.target.files[0];\n\n    reader.onloadend = () => {\n      this.setState({\n        file: file,\n        imagePreviewUrl: reader.result,\n        uploadImgBtn: true,\n        cancelImg: true,\n        uploadImgMsg: false,\n        openImageSelector: false\n      });\n    };\n\n    reader.readAsDataURL(file);\n  }\n\n  _handleSubmit(e) {\n    e.preventDefault();\n\n    if (this.state.imagePreviewUrl) {\n      fetch('http://localhost/campaignmaker-php/profile-image.php', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: 'profile-image=' + this.state.imagePreviewUrl + '&user-id=' + this.props.profileInfo.user_id\n      }).then(response => {\n        return response.json();\n      }).then(json => {\n        if (json) {\n          this.setState({\n            uploadImgBtn: false,\n            cancelImg: false,\n            uploadImgMsg: true,\n            changePicOption: true,\n            openImageSelector: false,\n            currentUploadedImg: 'http://localhost/campaignmaker-php/' + json\n          });\n        }\n      });\n    }\n  }\n\n  cancelImgUpload() {\n    this.setState({\n      imagePreviewUrl: this.state.currentUploadedImg,\n      uploadImgBtn: false,\n      cancelImg: false,\n      changePicOption: true,\n      uploadImgMsg: false\n    });\n  }\n\n  onTakePhoto(dataUri) {\n    // Do stuff with the dataUri photo...\n    console.log('takePhoto');\n  }\n\n  render() {\n    const _ref = this.props.profileInfo || {},\n          name = _ref.name,\n          email = _ref.email,\n          mobile = _ref.mobile,\n          profile_img = _ref.profile_img,\n          user_id = _ref.user_id,\n          imageCamp = _ref.imageCamp,\n          smsCamp = _ref.smsCamp,\n          designCamp = _ref.designCamp;\n\n    const uploadImgMsg = this.state.uploadImgMsg;\n    let imagePreview;\n    const imagePreviewUrl = this.state.imagePreviewUrl;\n    const imagePath = 'http://localhost/campaignmaker-php/';\n    let prevProfileImg = profile_img;\n\n    if (imagePreviewUrl) {\n      imagePreview = React.createElement(\"img\", {\n        src: imagePreviewUrl,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      });\n    } else {\n      imagePreview = React.createElement(\"img\", {\n        src: \"\".concat(imagePath).concat(prevProfileImg),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"profile__section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container vertical-center-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel panel-default transparent-bg-box profile-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, !name && React.createElement(\"div\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"fa fa-spin fa-spinner fa-3x m-t-rg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"panel_section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"profile-img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, imagePreview, React.createElement(\"div\", {\n      className: \"photo-edit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"fa fa-camera\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"fileInput\",\n      type: \"file\",\n      onChange: e => this._handleImageChange(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"photo-camera\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"fa fa-camera\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }), React.createElement(Camera, {\n      onTakePhoto: dataUri => {\n        this.onTakePhoto(dataUri);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"previewComponent text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: e => this._handleSubmit(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, uploadImgMsg && React.createElement(\"p\", {\n      className: \"show\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Profile picture upload successfully!\"), React.createElement(\"div\", {\n      className: \"btn-group\",\n      style: {\n        'margin-top': '5px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: this.state.uploadImgBtn ? \"btn btn-sm btn-success\" : \"hide\",\n      type: \"submit\",\n      onClick: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Upload\"), React.createElement(\"button\", {\n      onClick: this.cancelImgUpload,\n      className: this.state.cancelImg ? \"btn btn-sm btn-danger\" : \"hide\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Cancel\")))), React.createElement(\"div\", {\n      className: \"panel-row panel-row-group m-t-rg m-b-rg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"fa fa-user fa-stack label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"label-value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, name)), React.createElement(\"div\", {\n      className: \"row-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"fa fa-envelope fa-stack label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"label-value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, email)), React.createElement(\"div\", {\n      className: \"row-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"fa fa-phone fa-stack label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"label-value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, mobile))), React.createElement(\"div\", {\n      className: \"text-center m-b-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/edit-profile/\".concat(user_id, \"/\"),\n      className: \"btn btn-purple-o\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"Edit profile\"))), React.createElement(\"div\", {\n      className: \"panel_section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"panel-row panel-row-group m-t-rg m-b-rg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      onClick: \"\",\n      className: \"row-item\",\n      style: {\n        'background': '#66a430',\n        'color': '#fff',\n        'border': 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"fa fa-user fa-envelope fa-stack label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"label-value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Image campaigns\"), React.createElement(\"div\", {\n      className: \"counts\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, imageCamp), React.createElement(\"span\", {\n      className: \"fa fa-stack fa-arrow-right goto-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      onClick: \"\",\n      className: \"row-item\",\n      style: {\n        'background': '#3065a4',\n        'color': '#fff',\n        'border': 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"fa fa-comment fa-stack label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"label-value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"SMS campaigns\"), React.createElement(\"div\", {\n      className: \"counts\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, smsCamp), React.createElement(\"span\", {\n      className: \"fa fa-stack fa-arrow-right goto-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      onClick: \"\",\n      className: \"row-item\",\n      style: {\n        'background': '#e66730',\n        'color': '#fff',\n        'border': 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"fa fa-paint-brush fa-stack label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"label-value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Design campaigns\"), React.createElement(\"div\", {\n      className: \"counts\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, designCamp), React.createElement(\"span\", {\n      className: \"fa fa-stack fa-arrow-right goto-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }))))))));\n  }\n\n}","map":{"version":3,"sources":["/Applications/MAMP/htdocs/frazil-app/src/Profile/Profile.jsx"],"names":["React","Component","Link","Camera","Profile","constructor","props","state","imagePreviewUrl","uploadImgMsg","currentUploadedImg","cancelImgUpload","bind","componentDidMount","loginInfo","loginEmail","loginId","profileData","getProfileInfo","_handleImageChange","e","preventDefault","reader","FileReader","file","target","files","onloadend","setState","result","uploadImgBtn","cancelImg","openImageSelector","readAsDataURL","_handleSubmit","fetch","method","headers","body","profileInfo","user_id","then","response","json","changePicOption","onTakePhoto","dataUri","console","log","render","name","email","mobile","profile_img","imageCamp","smsCamp","designCamp","imagePreview","imagePath","prevProfileImg"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n// import history from '../history';\nimport Camera from 'react-html5-camera-photo';\n\nexport default class Profile extends Component {\n\n  constructor(props) {\n    super(props);\n      this.state = {\n        imagePreviewUrl: '',\n        uploadImgMsg: false,\n        currentUploadedImg: ''\n      }\n      this.cancelImgUpload = this.cancelImgUpload.bind(this);\n  }\n\n  componentDidMount(){\n    const { loginEmail, loginId } = this.props.loginInfo;\n    const profileData = {\n      loginEmail,\n      loginId\n    }\n    this.props.getProfileInfo(profileData);\n  }\n\n  _handleImageChange(e) {\n    e.preventDefault();\n\n    let reader = new FileReader();\n    let file = e.target.files[0];\n\n    reader.onloadend = () => {\n      this.setState({\n        file: file,\n        imagePreviewUrl: reader.result,\n        uploadImgBtn: true,\n        cancelImg: true,\n        uploadImgMsg: false,\n        openImageSelector: false\n      });\n    }\n\n    reader.readAsDataURL(file)\n  }\n\n  _handleSubmit(e) {\n    e.preventDefault();\n    if(this.state.imagePreviewUrl){\t\n          fetch('http://localhost/campaignmaker-php/profile-image.php', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded'\n          },\n          body: 'profile-image='+this.state.imagePreviewUrl+'&user-id='+this.props.profileInfo.user_id,\n          }).then(response => {\n            return response.json();\n          }).then(json => {\n                if(json){\n                  this.setState({\n                    uploadImgBtn: false,\n                    cancelImg: false,\n                    uploadImgMsg: true,\n                    changePicOption: true,\n                    openImageSelector: false,\n                    currentUploadedImg: 'http://localhost/campaignmaker-php/'+json\n                  })\n                }\n          });\n      }\n  }\n\n  cancelImgUpload(){\n    this.setState({\n        imagePreviewUrl: this.state.currentUploadedImg,\n        uploadImgBtn: false,\n        cancelImg: false,\n        changePicOption: true,\n        uploadImgMsg: false\n      });\n  }\n\n  onTakePhoto (dataUri) {\n    // Do stuff with the dataUri photo...\n    console.log('takePhoto');\n  }\n\n  render() {\n    const { name, email, mobile, profile_img, user_id,\n      imageCamp, smsCamp, designCamp } = this.props.profileInfo || {};\n\n    const { uploadImgMsg } = this.state;\n\n    let imagePreview;\n    const { imagePreviewUrl } = this.state;\n    const imagePath = 'http://localhost/campaignmaker-php/';\n    let prevProfileImg  = profile_img;\n    if (imagePreviewUrl) {\n      imagePreview = <img src={imagePreviewUrl} />;\n    } else {\n      imagePreview = <img src={`${imagePath}${prevProfileImg}`} />;\n    }\n\n    return(\n      <div className=\"profile__section\">\n        <div className=\"container vertical-center-box\">\n\n          <div className=\"panel panel-default transparent-bg-box profile-page\">\n            <div className=\"panel-body\">\n              {!name && (<div className=\"text-center\">\n                <span className=\"fa fa-spin fa-spinner fa-3x m-t-rg\"></span>\n              </div>)}\n              <div className=\"panel_section\">\n                <div className=\"profile-img\">\n                  {imagePreview}\n                  <div className=\"photo-edit\">\n                    <span className=\"fa fa-camera\"></span>\n                    <input className=\"fileInput\" type=\"file\" onChange={(e)=>this._handleImageChange(e)} />\n                  </div>\n                  <div className=\"photo-camera\">\n                    <span className=\"fa fa-camera\"></span>\n                    <Camera\n                      onTakePhoto = { (dataUri) => { this.onTakePhoto(dataUri); } }\n                    />\n                  </div>\n                </div>\n                <div className=\"previewComponent text-center\">\n                  <form onSubmit={(e)=>this._handleSubmit(e)}>\n                      {/*<a href=\"javascript:void(0)\" onClick={this.openImageSelector} className={!this.state.changePicOption ? \"hide\" : \"text-info m-t-xs\"}>Change picture</a>*/}\n                      {uploadImgMsg && <p className=\"show\">Profile picture upload successfully!</p>}\n                      <div className=\"btn-group\" style={{'margin-top':'5px'}}>\n                        <button className={this.state.uploadImgBtn ? \"btn btn-sm btn-success\" : \"hide\"} type=\"submit\" onClick=\"\">Upload</button>\n                        <button onClick={this.cancelImgUpload} className={this.state.cancelImg ? \"btn btn-sm btn-danger\" : \"hide\"}>Cancel</button>\n                      </div>\n                    </form>\n                </div>\n\n                <div className=\"panel-row panel-row-group m-t-rg m-b-rg\">\n                  <div className=\"row-item\">\n                    <span className=\"fa fa-user fa-stack label\"></span>\n                    <span className=\"label-value\">{name}</span>\n                  </div>\n                  <div className=\"row-item\">\n                    <span className=\"fa fa-envelope fa-stack label\"></span>\n                    <span className=\"label-value\">{email}</span>\n                  </div>\n                  <div className=\"row-item\">\n                    <span className=\"fa fa-phone fa-stack label\"></span>\n                    <span className=\"label-value\">{mobile}</span>\n                  </div>\n                </div>\n\n                <div className=\"text-center m-b-lg\">\n                  <Link to={`/edit-profile/${user_id}/`} className=\"btn btn-purple-o\">Edit profile</Link>\n                </div>\n\n              </div>\n\n              <div className=\"panel_section\">\n\t\t    \t\t\t<div className=\"panel-row panel-row-group m-t-rg m-b-rg\">\n\t\t\t    \t\t\t<div onClick=\"\" className=\"row-item\" style={{'background':'#66a430', 'color': '#fff','border':'none'}}>\n\t\t\t    \t\t\t\t<span className=\"fa fa-user fa-envelope fa-stack label\"></span>\n\t\t\t    \t\t\t\t<span className=\"label-value\">Image campaigns</span>\n\t\t\t    \t\t\t\t<div className=\"counts\">{imageCamp}</div>\n\t\t\t    \t\t\t\t<span className=\"fa fa-stack fa-arrow-right goto-link\"></span>\n\t\t    \t\t\t\t</div>\n\t\t    \t\t\t\t<div onClick=\"\" className=\"row-item\" style={{'background':'#3065a4', 'color': '#fff','border':'none'}}>\n\t\t\t    \t\t\t\t<span className=\"fa fa-comment fa-stack label\"></span>\n\t\t\t    \t\t\t\t<span className=\"label-value\">SMS campaigns</span>\n\t\t\t    \t\t\t\t<div className=\"counts\">{smsCamp}</div>\n\t\t\t    \t\t\t\t<span className=\"fa fa-stack fa-arrow-right goto-link\"></span>\n\t\t    \t\t\t\t</div>\n\t\t    \t\t\t\t<div onClick=\"\" className=\"row-item\" style={{'background':'#e66730', 'color': '#fff','border':'none'}}>\n\t\t\t    \t\t\t\t<span className=\"fa fa-paint-brush fa-stack label\"></span>\n\t\t\t    \t\t\t\t<span className=\"label-value\">Design campaigns</span>\n\t\t\t    \t\t\t\t<div className=\"counts\">{designCamp}</div>\n\t\t\t    \t\t\t\t<span className=\"fa fa-stack fa-arrow-right goto-link\"></span>\n\t\t    \t\t\t\t</div>\n\t\t    \t\t\t</div>\n\n\t\t\t\t\t\t\t</div>\n              </div>\n              </div>\n      </div>\n      </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}